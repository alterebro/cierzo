function getData(){ajax().get("../api/").then(function(t,e){renderData(t)}).catch(function(){}).always(function(){})}function renderData(e){for(var n=[{id:"N",name:"Tramontana",from:"Norte"},{id:"NNE",name:"Tramontana",from:"Norte-Nordeste"},{id:"NE",name:"Gregal",from:"Nordeste"},{id:"ENE",name:"Levante",from:"Este-Nordeste"},{id:"E",name:"Levante",from:"Este"},{id:"ESE",name:"Levante",from:"Este-Sudeste"},{id:"SE",name:"Siroco",from:"Sudeste"},{id:"SSE",name:"Siroco",from:"Sur-Sudeste"},{id:"S",name:"Ostro",from:"Sur"},{id:"SSO",name:"Ostro",from:"Sur-Sudoeste"},{id:"SO",name:"Lebeche",from:"Sudoeste"},{id:"OSO",name:"Poniente",from:"Oeste-Sudoeste"},{id:"O",name:"Poniente",from:"Oeste"},{id:"ONO",name:"Cierzo",from:"Oeste-Noroeste"},{id:"NO",name:"Cierzo",from:"Noroeste"},{id:"NNO",name:"Cierzo",from:"Norte-Noroeste"}],r={timestamp:function(t){return new Date(1e3*t).format("d.m.Y @H:i:s")},hour:function(t){return new Date(1e3*t).format("Dd hA")},day:function(t){return new Date(1e3*t).format("Dd M")},wind_direction:function(t){var e=Math.floor(t/22.5+.5);return n[e%16].id},wind_string:function(t){var e=Math.floor(t/22.5+.5);e=n[e%16];var r="Viento "+e.name+" del "+e.from;return r}},i=document.querySelector("main");i.firstChild;)i.removeChild(i.firstChild);var o=document.querySelector("#app"),s=new t(o.innerHTML);s.register("timestamp",r.timestamp),s.register("hour",r.hour),s.register("day",r.day),s.register("wind_direction",r.wind_direction),s.register("wind_string",r.wind_string);var a=document.createElement("div");a.innerHTML=s.render(e),document.querySelector("main").appendChild(a),router.init()}(function(){Date.shortMonths=["Ene","Feb","Mar","Apr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],Date.longMonths=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],Date.shortDays=["Dom","Lun","Mar","Mie","Jue","Vie","Sab"],Date.longDays=["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"];var t={d:function(){return(this.getDate()<10?"0":"")+this.getDate()},D:function(){return Date.shortDays[this.getDay()]},j:function(){return this.getDate()},l:function(){return Date.longDays[this.getDay()]},N:function(){return 0==this.getDay()?7:this.getDay()},S:function(){return this.getDate()%10==1&&11!=this.getDate()?"st":this.getDate()%10==2&&12!=this.getDate()?"nd":this.getDate()%10==3&&13!=this.getDate()?"rd":"th"},w:function(){return this.getDay()},z:function(){var t=new Date(this.getFullYear(),0,1);return Math.ceil((this-t)/864e5)},W:function(){var t=new Date(this.valueOf()),e=(this.getDay()+6)%7;t.setDate(t.getDate()-e+3);var n=t.valueOf();t.setMonth(0,1),4!==t.getDay()&&t.setMonth(0,1+(4-t.getDay()+7)%7);var r=1+Math.ceil((n-t)/6048e5);return r<10?"0"+r:r},F:function(){return Date.longMonths[this.getMonth()]},m:function(){return(this.getMonth()<9?"0":"")+(this.getMonth()+1)},M:function(){return Date.shortMonths[this.getMonth()]},n:function(){return this.getMonth()+1},t:function(){var t=this.getFullYear(),e=this.getMonth()+1;return 12===e&&(t=t++,e=0),new Date(t,e,0).getDate()},L:function(){var t=this.getFullYear();return t%400==0||t%100!=0&&t%4==0},o:function(){var t=new Date(this.valueOf());return t.setDate(t.getDate()-(this.getDay()+6)%7+3),t.getFullYear()},Y:function(){return this.getFullYear()},y:function(){return(""+this.getFullYear()).substr(2)},a:function(){return this.getHours()<12?"am":"pm"},A:function(){return this.getHours()<12?"AM":"PM"},B:function(){return Math.floor(1e3*((this.getUTCHours()+1)%24+this.getUTCMinutes()/60+this.getUTCSeconds()/3600)/24)},g:function(){return this.getHours()%12||12},G:function(){return this.getHours()},h:function(){return((this.getHours()%12||12)<10?"0":"")+(this.getHours()%12||12)},H:function(){return(this.getHours()<10?"0":"")+this.getHours()},i:function(){return(this.getMinutes()<10?"0":"")+this.getMinutes()},s:function(){return(this.getSeconds()<10?"0":"")+this.getSeconds()},u:function(){var t=this.getMilliseconds();return(t<10?"00":t<100?"0":"")+t},e:function(){return/\((.*)\)/.exec((new Date).toString())[1]},I:function(){for(var t=null,e=0;e<12;++e){var n=new Date(this.getFullYear(),e,1),r=n.getTimezoneOffset();if(null===t)t=r;else{if(r<t){t=r;break}if(r>t)break}}return this.getTimezoneOffset()==t|0},O:function(){return(-this.getTimezoneOffset()<0?"-":"+")+(Math.abs(this.getTimezoneOffset()/60)<10?"0":"")+Math.floor(Math.abs(this.getTimezoneOffset()/60))+(0==Math.abs(this.getTimezoneOffset()%60)?"00":(Math.abs(this.getTimezoneOffset()%60)<10?"0":"")+Math.abs(this.getTimezoneOffset()%60))},P:function(){return(-this.getTimezoneOffset()<0?"-":"+")+(Math.abs(this.getTimezoneOffset()/60)<10?"0":"")+Math.floor(Math.abs(this.getTimezoneOffset()/60))+":"+(0==Math.abs(this.getTimezoneOffset()%60)?"00":(Math.abs(this.getTimezoneOffset()%60)<10?"0":"")+Math.abs(this.getTimezoneOffset()%60))},T:function(){return this.toTimeString().replace(/^.+ \(?([^\)]+)\)?$/,"$1")},Z:function(){return 60*-this.getTimezoneOffset()},c:function(){return this.format("Y-m-d\\TH:i:sP")},r:function(){return this.toString()},U:function(){return this.getTime()/1e3}};Date.prototype.format=function(e){var n=this;return e.replace(/(\\?)(.)/g,function(e,r,i){return""===r&&t[i]?t[i].call(n):i})}}).call(this),function(t,e){"use strict";"function"==typeof define&&define.amd?define("ajax",e):"object"==typeof exports?exports=module.exports=e():t.ajax=e()}(this,function(){"use strict";function t(t){var r=["get","post","put","delete"];return t=t||{},t.baseUrl=t.baseUrl||"",t.method&&t.url?n(t.method,t.baseUrl+t.url,e(t.data),t):r.reduce(function(r,i){return r[i]=function(r,o){return n(i,t.baseUrl+r,e(o),t)},r},{})}function e(t){return t||null}function n(t,e,n,i){var s=["then","catch","always"],u=s.reduce(function(t,e){return t[e]=function(n){return t[e]=n,t},t},{}),c=new XMLHttpRequest;return c.open(t,e,!0),c.withCredentials=i.hasOwnProperty("withCredentials"),r(c,i.headers),c.addEventListener("readystatechange",o(u,c),!1),c.send(a(n)),u.abort=function(){return c.abort()},u}function r(t,e){e=e||{},i(e)||(e["Content-Type"]="application/x-www-form-urlencoded"),Object.keys(e).forEach(function(n){e[n]&&t.setRequestHeader(n,e[n])})}function i(t){return Object.keys(t).some(function(t){return"content-type"===t.toLowerCase()})}function o(t,e){return function n(){e.readyState===e.DONE&&(e.removeEventListener("readystatechange",n,!1),t.always.apply(t,s(e)),e.status>=200&&e.status<300?t.then.apply(t,s(e)):t.catch.apply(t,s(e)))}}function s(t){var e;try{e=JSON.parse(t.responseText)}catch(n){e=t.responseText}return[e,t]}function a(t){return u(t)?c(t):t}function u(t){return"[object Object]"===Object.prototype.toString.call(t)}function c(t){return Object.keys(t).reduce(function(e,n){var r=e?e+"&":"";return r+f(n)+"="+f(t[n])},"")}function f(t){return encodeURIComponent(t)}return t}),function(){function t(t){this.t=t}function e(t){return new Option(t).innerHTML.replace(/"/g,"&quot;")}function n(t,e){for(var n=e.split(".");n.length;){if(!(n[0]in t))return!1;t=t[n.shift()]}return t}function r(s,a){return s.replace(i,function(t,e,i,o,s,u,c,f){var h,l=n(a,o),d="";if(!l)return"!"==i?r(s,a):c?r(f,a):"";if(!i)return r(u,a);if("@"==i){for(h in l)l.hasOwnProperty(h)&&(a._key=h,a._val=l[h],d+=r(s,a));return delete a._key,delete a._val,d}}).replace(o,function(r,i,o){if("#"==i){var s=o.split("|");o=s[0];var u=n(a,o);if(s.length>1)for(var c=s[1].split(","),f=c.length,h=0;h<f;)t.hasOwnProperty(c[h])&&(u=t[c[h++]](u));return u}var u=n(a,o);return u||0===u?"%"==i?e(u):u:""})}var i=/\{\{(([@!]?)(.+?))\}\}(([\s\S]+?)(\{\{:\1\}\}([\s\S]+?))?)\{\{\/\1\}\}/g,o=/\{\{([=%#])(.+?)\}\}/g;t.prototype.render=function(t){return r(this.t,t)},t.prototype.register=function(e,n){return!t.hasOwnProperty(e)&&(t[e]=n)},t.prototype.unregister=function(e){if(t.hasOwnProperty(e))return delete t[e]},window.t=t}();var timer={seconds:60,mins:null,tick:function(){var t=this.mins-1;if(this.seconds--,console.log(t.toString()+":"+(this.seconds<10?"0":"")+String(this.seconds),this.seconds,t),console.log(),this.seconds>0){var e=this;setTimeout(function(){e.tick()},1e3)}else this.mins>1?(this.seconds=60,this.init(this.mins-1)):(this.seconds=60,this.mins=null,getData())},init:function(t){this.mins=t,this.tick()}},router={current_block:null,blocks:[],activateMenu:function(){var t=this,e=document.querySelectorAll("header nav ul li a");e.forEach(function(e,n){var r=e.getAttribute("href").split("#")[1];e.setAttribute("data-block",r),e.onclick=function(e){t.showBlock(r),e.preventDefault()}})},showBlock:function(t){for(var e=0;e<this.blocks.length;e++)document.getElementById(this.blocks[e]).style.display="none";document.getElementById(t).style.display="block",document.querySelectorAll("header nav a").forEach(function(t){t.classList.remove("active")}),document.querySelector('header nav ul li a[data-block="'+t+'"]').className="active",this.current_block=t},init:function(){var t=this;t.activateMenu();var e=document.querySelectorAll("main section");e.forEach(function(e,n){t.blocks.push(e.getAttribute("id"))}),this.current_block||(this.current_block=this.blocks[0]),this.showBlock(this.current_block)}};window.onload=function(){getData()};